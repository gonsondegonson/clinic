{% extends '../base.html' %}
{% load static %}

{% block title %}{%if entity.record %}Editar {{entity.record}}{% else %}Añadir {{entity}}{% endif %}{% endblock %}

{% block href %}
{%if entity.name == 'color'%}
    <link href="{% static 'colorfield/coloris/coloris.min.css' %}" type="text/css" rel="stylesheet">
{% endif %}
{% endblock %}

{% block src %}
{%if entity.name == 'color'%}
	<script src="{% static 'colorfield/coloris/coloris.min.js' %}"></script>
	<script src="{% static 'colorfield/colorfield.js' %}"></script>
{% endif %}
{% endblock %}

{% block detail %}
<div class="input-group mb-3">
<form method="POST" action="{%if entity.record %}{{entity.record.url.edit}}{% else %}{{entity.url.edit}}{% endif %}" class="post-form">{% csrf_token %}
    <div class="header">
        <h3 class="title" id="myLabel">{%if entity.record %}Editar {{entity.record}}{% else %}Añadir {{entity}}{% endif %}</h3>
    </div>
    <div class="body">
        <hr>
        {{form.as_p}}
        <hr>
    </div>
    <div class="footer">
    {%if entity.record %}
        {% if entity.auth.delete == True %}
        <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#myModalConfirmDelete{{entity.record.id}}"><span class="fa-solid fa-trash-can"></span>   Borrar</button>
        {% endif %}
        {% if entity.auth.change == True %}
        <button type="submit" name="update{{entity.name}}" class="btn btn-outline-dark"><span class="fa-solid fa-floppy-disk"></span>    Guardar</button>
        {% endif %}
    {% else %}
        {% if entity.auth.add == True %}
        <button type="submit" name="update{{entity.name}}" class="btn btn-outline-dark"><span class="fa-solid fa-floppy-disk"></span>    Guardar</button>
        {% endif %}
    {% endif %}
        <a class="btn btn-outline-dark" role="button" href="{{entity.url.list}}"><i class="fa-solid fa-rectangle-xmark"></i>    Salir</a>
    </div>        
</form>
{%if entity.record and entity.auth.delete == True %}
    {% include '../modalConfirmDeleteForm.html' %}
{% endif %}
</div>        
{% endblock %}
